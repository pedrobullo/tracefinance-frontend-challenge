# i18n (Internacionalização)

## Setup

Usamos **i18next** com um `LanguageProvider` customizado.

```
lib/i18n/
├── index.ts       # Config do i18next
├── pt.ts          # Traduções PT-BR
└── en.ts          # Traduções EN
```

## Uso básico

```tsx
import { useTranslation } from '@/contexts/LanguageProvider'

function MyComponent() {
  const { t } = useTranslation()
  
  return (
    <h1>{t('transactions.title')}</h1>
    <p>{t('transactions.empty')}</p>
  )
}
```

## Trocar idioma

```tsx
import { useLanguage } from '@/contexts/LanguageProvider'

function LanguageToggle() {
  const { language, setLanguage } = useLanguage()
  
  return (
    <button onClick={() => setLanguage(language === 'pt' ? 'en' : 'pt')}>
      {language.toUpperCase()}
    </button>
  )
}
```

## Estrutura das traduções

```typescript
// lib/i18n/pt.ts
export const pt = {
  transactions: {
    title: 'Transações',
    empty: 'Nenhuma transação encontrada',
    create: 'Nova Transação',
    filters: {
      status: 'Status',
      type: 'Tipo',
      date: 'Data',
      apply: 'Aplicar',
      clear: 'Limpar',
    },
  },
  common: {
    loading: 'Carregando...',
    error: 'Erro ao carregar',
    save: 'Salvar',
    cancel: 'Cancelar',
  },
}
```

## Feature Flag

Controlado por `NEXT_PUBLIC_ENABLE_I18N`.

Se desabilitado, o seletor de idioma não aparece e fica fixo em PT-BR.

```tsx
{featureFlags.i18n && <LanguageToggle />}
```

## Convenções

- **Keys em inglês**: `transactions.title`, não `transacoes.titulo`
- **Hierarquia lógica**: `feature.subfeature.element`
- **Sem interpolação complexa**: mantenha simples
